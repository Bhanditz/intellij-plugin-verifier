allprojects {
  apply plugin: 'java'

//    group = 'org.jetbrains.intellij.plugins'
//    version = '1.7'

  sourceCompatibility = 1.6
  targetCompatibility = 1.6

  dependencies {
    compile group: 'com.intellij', name: 'annotations', version: '12.0'

    compile group: 'org.ow2.asm', name: 'asm-all', version: '5.0.4'
    compile group: 'com.google.guava', name: 'guava', version: '15.0'
    compile group: 'commons-io', name: 'commons-io', version: '2.3'
    compile project(':intellij-plugin-structure')

//    compile group: 'org.jetbrains.intellij.plugins', name: 'intellij-plugin-structure', version: '1.4'
  }

}

subprojects {

  task packageSources(type: Jar) {
    classifier = 'sources'
    from sourceSets.main.allSource
  }

  artifacts.archives packageSources

  repositories {
    mavenLocal()

//    maven { url "http://dl.bintray.com/jetbrains/intellij-plugin-service" }
    maven { url "http://repo.maven.apache.org/maven2" }
  }

}
