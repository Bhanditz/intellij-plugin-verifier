apply plugin: 'com.github.johnrengelman.shadow'

dependencies {

  compile 'com.github.spullara.cli-parser:cli-parser:1.1.2'
  compile group: 'ch.qos.logback', name: 'logback-classic', version: '1.1.7'
  compile project(':rest')
}

shadowJar {
  manifest {
    attributes 'Main-Class': 'com.jetbrains.pluginverifier.client.Client'
  }
}

task sourcesJar(type: Jar) {
  classifier = 'sources'
  from sourceSets.main.allSource
}

artifacts.archives sourcesJar

jar.finalizedBy(shadowJar)